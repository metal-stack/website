---
slug: /release-notes/v0.20.0
title: v0.20.0
sidebar_position: 12
---
# metal-stack v0.20.0
See original release note at [https://github.com/metal-stack/releases/releases/tag/v0.20.0](https://github.com/metal-stack/releases/releases/tag/v0.20.0)
## General
* General support for IPv6 in the metal-api
* [Gardener v1.106](https://github.com/gardener/gardener/releases/tag/v1.106.0)
## Required Actions
* The `ChildPrefixLength` property was removed from the `partition` entity and moved into the `network` entity. So, every tenant super network must now be configured with `DefaultChildPrefixLength` accordingly.
  The existing values in the database are migrated automatically, but the deployment has to be adapted.
  
  It is required to add the new property to the tenant super network, like:

   ```
    defaultchildprefixlength:
      IPv4: 22
   ``` 
  
  Also ensure that all firewall-controllers are up-to-date in all firewalls before adding IPv6 prefixes to any of the existing networks. (metal-stack/metal-api#549)
* Another audit backend based on Postgres and TimescaleDB was added as an alternative to the existing Meilisearch backend. 
  
  For this, the variables `metal_auditing_enabled`, `metal_auditing_index_prefix`, `metal_auditing_index_interval`, `metal_auditing_url` were renamed to `metal_auditing_meili_enabled`, `metal_auditing_meili_index_prefix`, `metal_auditing_meili_index_interval`, `metal_auditing_meili_url`. Please adapt your deployment accordingly. 
  
  If you switch the backend, be aware that backup data of the Meilisearch backend remains and manual cleanup is required. (metal-stack/metal-roles#310)
* Kubernetes 1.31 for worker nodes require to run on the latest OS metal-images. (metal-stack/os-metal-extension#54)
* To prevent using incompatible metal-os images in combination with Kubernetes 1.31 worker nodes, use the new deployment parameter `gardener_os_compatibility_mapping` in order to add a Kubelet version constraint to your `CloudProfile` machine images:
  
  ```yaml
  gardener_os_compatibility_mapping:
    ubuntu:
      when:
        operator: "<"
        version: "24.04.20250228"
        except:
          - "24.04"
      kubelet: "<= 1.30"
    debian:
      when:
        operator: "<"
        version: "12.0.20250228"
        except:
          - "12.0"
      kubelet: "<= 1.30" 
  ```
  (metal-stack/metal-roles#384)
## Component Releases
### node-init v0.1.6
* Build with go-1.24 and update go modules (metal-stack/node-init#15) @majst01
### metal-api v0.40.3
* Dualstack Network Support (metal-stack/metal-api#549) @majst01
* Allow additional auditing backend based on TimescaleDB (metal-stack/metal-api#565) @Gerrit91
* Fix swagger spec regarding address family is required. (metal-stack/metal-api#608) @Gerrit91
* Remove unnecessary parent network ID field from network allocation. (metal-stack/metal-api#609) @Gerrit91
### helm-charts v0.4.20
* Roll metal-api on cert changes. (metal-stack/helm-charts#115) @Gerrit91
* Auditing for metal-api with timescaledb backend. (metal-stack/helm-charts#99) @Gerrit91
### metal-roles v0.15.2
* Role for auditing-timescaledb. (metal-stack/metal-roles#310) @Gerrit91
* Roll nsqd and metal-api on certificate roll. (metal-stack/metal-roles#377) @Gerrit91
* Allow setting the name and kubernetes version for worker groups (metal-stack/metal-roles#381) @robertvolkmann
* feat: allow configuring gardeners vali (metal-stack/metal-roles#380) @vknabel
* Add possibility to add kubelet constraints to cloud profile OS images. (metal-stack/metal-roles#384) @Gerrit91
### metalctl v0.18.0
* Only try to use token from kubeconfig for machine console. (metal-stack/metalctl#259) @Gerrit91
* Dualstack support (metal-stack/metalctl#256) @majst01
* fix: bug which required optional hmac type (metal-stack/metalctl#275) @vknabel
* docs: fix readme auth type (metal-stack/metalctl#274) @vknabel
### metal-console v0.7.3
* Update to go-1.24 (metal-stack/metal-console#57) @majst01
### os-metal-extension v0.8.5
* Do not deploy containerd config for systemd cgroup driver. (metal-stack/os-metal-extension#54) @Gerrit91
### gardener-extension-provider-metal v0.25.7
* Revendor g/g v1.106. (metal-stack/gardener-extension-provider-metal#446) @Gerrit91
* Make extension ports configurable via helm values (metal-stack/gardener-extension-provider-metal#445) @ScheererJ
### machine-controller-manager-provider-metal v0.1.23
* Revendor MCM v0.54.0. (metal-stack/machine-controller-manager-provider-metal#38) @Gerrit91
# Merged Pull Requests
This is a list of pull requests that were merged since the last release. The list does not contain pull requests from release-vector-repositories.

The fact that these pull requests were merged does not necessarily imply that they have already become part of this metal-stack release.

* Bump releases to version v0.19.8 (metal-stack/docs#248) @metal-robot[bot]
* Bump metal-api to version v0.40.0 (metal-stack/metal-python#145) @metal-robot[bot]
* Bump metal-api to version v0.40.0 (metal-stack/metal-go#200) @metal-robot[bot]
* Bump metal-api to version v0.40.1 (metal-stack/metal-python#146) @metal-robot[bot]
* Bump metal-api to version v0.40.1 (metal-stack/metal-go#201) @metal-robot[bot]
* Bump metal-api to version v0.40.2 (metal-stack/metal-python#147) @metal-robot[bot]
* Bump metal-api to version v0.40.2 (metal-stack/metal-go#202) @metal-robot[bot]
* Bump metal-api to version v0.40.3 (metal-stack/metal-python#148) @metal-robot[bot]
* Bump metal-api to version v0.40.3 (metal-stack/metal-go#203) @metal-robot[bot]
* use resource name as cluster id (metal-stack/cluster-api-provider-metal-stack#73) @vknabel
* Split development guide from contributing.md. (metal-stack/cluster-api-provider-metal-stack#74) @Gerrit91
* Add patch for accton platform support (metal-stack/sonic-build#1) @iljarotar
* Update node_exporter to v1.9.0 (metal-stack/metal-images#281) @majst01
* Update to go-1.24 (metal-stack/oci-mirror#12) @majst01
* Update ubuntu/firewall kernel to 6.12.16 (metal-stack/metal-images#283) @majst01
* Update to go-1.24 (metal-stack/go-lldpd#28) @majst01
* ship with default containerd config to get cgroupv2 compatibility (metal-stack/metal-images#282) @majst01
* Do not install a config.toml override for nvidia anymore (metal-stack/metal-images#285) @majst01
* Update with swagger spec from real cluster (metal-stack/ontap-go#3) @majst01
* Add files via upload (metal-stack/docs#249) @philiphaas
* Update favicon (metal-stack/docs#250) @philiphaas
* Fix timescaledb query (missing parenthesis). (metal-stack/metal-lib#169) @Gerrit91
* Improve consistency to meilisearch audit indexing. (metal-stack/metal-lib#170) @Gerrit91
* Next release (metal-stack/releases#218) @metal-robot[bot]