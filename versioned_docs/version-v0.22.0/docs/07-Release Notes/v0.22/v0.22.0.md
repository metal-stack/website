---
slug: /release-notes/v0.22.0
title: v0.22.0
sidebar_position: 1
---
# metal-stack v0.22.0
See original release note at [https://github.com/metal-stack/releases/releases/tag/v0.22.0](https://github.com/metal-stack/releases/releases/tag/v0.22.0)
## General

## Required Actions
* This release expects the migration to the Gardener Operator. Please read the migration notes [here](https://github.com/metal-stack/metal-roles/tree/master/control-plane/roles/gardener-operator#migration-path).
* The deployment-base image now comes with Ansible 11. The `ansible-core` was raised from `2.15.4` to `2.18.7`. We did not see any major issues with this update for our roles and playbooks. In case you encounter problems with the update, please adapt your playbooks or file an issue. You can always go back and use the previous release of `metal-deployment-base:v0.7.7` until we found a solution to your issue. Note that Python 2 is not supported anymore. You probably should take a look at the [porting guides](https://docs.ansible.com/ansible/latest/porting_guides/core_porting_guides.html) of Ansible, too. ([release notes](https://github.com/metal-stack/metal-deployment-base/releases/tag/v0.8.0))
* Loopback addresses of all leaves must be known to all routers (and servers) that need to communicate with the leaves via default VRF. BGP or static routes must be established accordingly. (metal-stack/metal-core#168)
## Noteworthy
* The audit extension now scrapes the fluentbit v2 metrics, which are a superset of the v1 metrics, and also provides metrics for the storage use. Metric `process_start_time_seconds` is now called `fluentbit_process_start_time_seconds`. (metal-stack/gardener-extension-audit#56)
* Add missing securityContext controls in order to comply with the restricted Pod Security Standards policy. Move default serverPort to 10443. (metal-stack/gardener-extension-audit#57)
## Component Releases
### metal-core v0.13.5
* Redistribute loopback address on SONiC (metal-stack/metal-core#165) @iljarotar
* Revert "Set loopback as source address in SONiC frr.conf (metal-stack/metal-core#159)" (#167) @iljarotar
* Revert "Redistribute loopback address on SONiC (metal-stack/metal-core#165)" (#166) @iljarotar
* Set Loopback0 address as default source address in frr.conf on SONiC Leaves (metal-stack/metal-core#168) @iljarotar
### gardener-extension-ontap v0.2.8
* Use name of shoot to create user secret (metal-stack/gardener-extension-ontap#71) @Honigeintopf
### metal-deployment-base v0.8.0
* Add metalstack.cloud CLI. (metal-stack/metal-deployment-base#45) @Gerrit91
* Update dependencies. (metal-stack/metal-deployment-base#44) @Gerrit91
* include sbom in container image (metal-stack/metal-deployment-base#41) @mac641
### gardener-extension-audit v0.3.0
* Helm chart: add missing securityContext to comply with restricted PSSâ€¦ (metal-stack/gardener-extension-audit#57) @mstueer
* Enable storage metrics (metal-stack/gardener-extension-audit#56) @MichaelEischer
* Bump fluentbit version (metal-stack/gardener-extension-audit#55) @MichaelEischer
* Update README (adding S3 backend + notes to Cilium). (metal-stack/gardener-extension-audit#54) @Gerrit91
### metal-apiserver v0.0.9
* Enable end user e2e tests with multiple tenants (metal-stack/metal-apiserver#81) @majst01
* Include proto validation during tests (metal-stack/metal-apiserver#77) @majst01
* Add ip create benchmark as first step (metal-stack/metal-apiserver#83) @majst01
* Update api to main (metal-stack/metal-apiserver#82) @majst01
* Fix wrong project mapper function being used. (metal-stack/metal-apiserver#79) @Gerrit91
* Properly log app version at launch. (metal-stack/metal-apiserver#78) @Gerrit91
* Implement switch service get, create, update, delete (metal-stack/metal-apiserver#57) @iljarotar
* Adopt to breaking api changes (metal-stack/metal-apiserver#76) @majst01
* Update dependencies, adopt breaking changes in validation (metal-stack/metal-apiserver#75) @majst01
* UpdateRequest must now have Meta set (metal-stack/metal-apiserver#71) @majst01
* Update to use masterdata membership namespaces. (metal-stack/metal-apiserver#72) @Gerrit91
* Migrate to simple connect go (metal-stack/metal-apiserver#85) @majst01
* Do not expose internal types from the repository package. (metal-stack/metal-apiserver#74) @Gerrit91
### metal-roles v0.17.19
* Add proper config map ref for shoot audit policy. (metal-stack/metal-roles#482) @Gerrit91
* Fix typos (metal-stack/metal-roles#480) @majst01
* Gardener operator review (metal-stack/metal-roles#481) @Gerrit91
* Deploy seed-api-server config map on GCP. (metal-stack/metal-roles#483) @Gerrit91
### cluster-api-provider-metal-stack v0.6.2
* feat: integration tests (metal-stack/cluster-api-provider-metal-stack#94) @vknabel
* feat: bump images (metal-stack/cluster-api-provider-metal-stack#97) @vknabel
# Merged Pull Requests
This is a list of pull requests that were merged since the last release. The list does not contain pull requests from release-vector-repositories.

The fact that these pull requests were merged does not necessarily imply that they have already become part of this metal-stack release.

* Fix typos. (metal-stack/website#123) @Gerrit91
* Use Slack join link instead of slack workspace link. (metal-stack/website#124) @Gerrit91
* Migrate to docker bake and include sboms in generated images (metal-stack/metal-images#341) @mac641
* Bump releases to version v0.21.11 (metal-stack/website#121) @metal-robot[bot]
* Fix bad link on blog article. (metal-stack/website#126) @Gerrit91
* Adopt to recent api changes (metal-stack/cli#9) @majst01
* fix build pipeline by ensuring tarball output directory is created properly (metal-stack/metal-images#353) @mac641
* ConnectPy is now moved to the connect org (metal-stack/api#48) @majst01
* Add definitions for api and admin switch services (metal-stack/api#30) @iljarotar
* Predefined validation rules (metal-stack/api#52) @majst01
* Use client interceptor instead of RoundTripper for auth header injection (metal-stack/api#51) @majst01
* Log only if logger is set (metal-stack/api#53) @majst01
* Missing switch port status (metal-stack/api#54) @iljarotar
* Switch cannot be updated (metal-stack/api#55) @iljarotar
* Simplify and fix some proto validations (metal-stack/api#57) @majst01
* Simplify validation tests (metal-stack/api#56) @majst01
* Fix validation isssues found in apiserver (metal-stack/api#59) @majst01
* Switch from ignite to cloud-hypervisor (metal-stack/metal-images#348) @mwindower
* Add switch ID to heartbeat (metal-stack/api#58) @iljarotar
* Remove periodic vulnerability scans, we have sboms now (metal-stack/metal-images#356) @majst01
* Go 1.25.3 (metal-stack/builder#86) @majst01
* Token with labels, console token is user token now (metal-stack/api#60) @majst01
* IPIssues is not yet decided (metal-stack/api#61) @majst01
* update to latest main of parent project (metal-stack/monsoon#1) @ostempel
* Make switch port desired state optional (metal-stack/api#62) @iljarotar
* Migrate to simple (metal-stack/api#50) @majst01
* Update to simple (metal-stack/cli#10) @majst01
* generate unique files in /etc/nvme/  (metal-stack/metal-images#360) @mwennrich
* Bump lint-staged from 16.1.6 to 16.2.4 (metal-stack/website#127) @dependabot[bot]
* Bump @docusaurus/tsconfig from 3.8.1 to 3.9.2 (metal-stack/website#131) @dependabot[bot]
* Bump @scalar/api-reference-react from 0.7.45 to 0.8.1 (metal-stack/website#130) @dependabot[bot]
* Add admin tenant cmds. (metal-stack/cli#12) @Gerrit91
* fix-docs-links (metal-stack/cli#7) @BotondGalxc
* Update debian and ubuntu kernel (metal-stack/metal-images#362) @majst01
* adjust to debian and add ci (metal-stack/monsoon#2) @ostempel
* CAPMS images (metal-stack/metal-images#352) @mac641
* publish capms images as part of release as well (metal-stack/metal-images#363) @mac641
* Fix link to suricata (metal-stack/firewall-controller#206) @GeertJohan
* Next release (metal-stack/releases#255) @metal-robot[bot]