# Redirects requests to the old documentation to the new structure
# The file is created to use the server-side-redirection of netlify
# Source: https://docs.netlify.com/routing/redirects/

# temporary redirects we have no better alternatives yet
/stable/apidocs/apidocs https://docs.archive.metal-stack.io/v0.21/references/metal-api/index.html 302

# migrate archived paths to stable versions quickly
/stable/overview/* /docs/:splat 301
/stable/concepts/* /docs/:splat 301
/stable/general/* /docs/:splat 301
/stable/users/* /docs/:splat 301
/stable/operators/* /docs/:splat 301
/stable/installation/* /docs/:splat 301
/stable/cisos/security/principles /docs/security-principles 301
/stable/cisos/security/* /docs/:splat 301
/stable/cisos/* /docs/:splat 301
/stable/developers/proposals /docs/enhancement-proposals 301
/stable/developers/* /docs/:splat 301
/stable/development/client_libraries /docs/client-libraries 301
/stable/development/roadmap /docs/planning-meetings#idea-backlog 301
/stable/development/proposals /docs/enhancement-proposals 301
/stable/development/contributing /docs/contribution-guideline  301
/stable/development/* /docs/:splat  301
/stable/external/mini-lab/roles/auth-dex/README https://github.com/metal-stack/mini-lab/tree/master/roles/auth-dex 301
/stable/apidocs/metal-api/index.html /docs/references/metal-api 301

/stable/external/metalctl/docs/* /docs/references/:splat 301

# enhancement proposals
/stable/development/proposals/MEP1/README /docs/MEP-1-distributed-metal-control-plane 301
/stable/development/proposals/MEP1/README /docs/MEP-2-two-factor-authentication 301
/stable/development/proposals/MEP1/README /docs/MEP-3-machine-re-installation 301
/stable/development/proposals/MEP1/README /docs/MEP-4-multi-tenancy-for-the-metal-api 301
/stable/development/proposals/MEP1/README /docs/MEP-5-shared-networks 301
/stable/development/proposals/MEP1/README /docs/MEP-6-dmz-networks 301
/stable/development/proposals/MEP1/README /docs/MEP-7-configurable-filesystem-layout-for-machine-allocation 301
/stable/development/proposals/MEP1/README /docs/MEP-9-no-open-ports-to-the-data-center 301
/stable/development/proposals/MEP1/README /docs/MEP-10-sonic-support 301
/stable/development/proposals/MEP1/README /docs/MEP-11-auditing-of-metal-stack-resources 301
/stable/development/proposals/MEP1/README /docs/MEP-12-rack-spreading 301
/stable/development/proposals/MEP1/README /docs/MEP-13-dual-stack-support 301
/stable/development/proposals/MEP1/README /docs/MEP-14-independence-from-external-sources 301
/stable/development/proposals/MEP1/README /docs/MEP-16-metal-api-as-an-alternative-configuration-source-for-the-firewall-controller 301
/stable/development/proposals/MEP1/README /docs/MEP-17-global-network-view 301
/stable/development/proposals/MEP1/README /docs/MEP-18-autonomous-control-plane 301

# external redirects
/stable/external/:repo/CONTRIBUTING /docs/contribution-guideline 301
/stable/external/firewall-controller/DEVELOP /docs/contribution-guideline 301
/stable/external/:repo/README /docs/references/:repo 301

# semantic versions
/stable/* /docs/:splat 301
/dev/* /docs/next/:splat 301

# archived minor releases
/v0.1/* https://docs.archived.metal-stack.io/v0.1/:splat
/v0.2/* https://docs.archived.metal-stack.io/v0.2/:splat
/v0.3/* https://docs.archived.metal-stack.io/v0.3/:splat
/v0.4/* https://docs.archived.metal-stack.io/v0.4/:splat
/v0.5/* https://docs.archived.metal-stack.io/v0.5/:splat
/v0.6/* https://docs.archived.metal-stack.io/v0.6/:splat
/v0.7/* https://docs.archived.metal-stack.io/v0.7/:splat
/v0.8/* https://docs.archived.metal-stack.io/v0.8/:splat
/v0.9/* https://docs.archived.metal-stack.io/v0.9/:splat
/v0.10/* https://docs.archived.metal-stack.io/v0.10/:splat
/v0.11/* https://docs.archived.metal-stack.io/v0.11/:splat
/v0.12/* https://docs.archived.metal-stack.io/v0.12/:splat
/v0.13/* https://docs.archived.metal-stack.io/v0.13/:splat
/v0.14/* https://docs.archived.metal-stack.io/v0.14/:splat
/v0.15/* https://docs.archived.metal-stack.io/v0.15/:splat
/v0.16/* https://docs.archived.metal-stack.io/v0.16/:splat
/v0.17/* https://docs.archived.metal-stack.io/v0.17/:splat
/v0.18/* https://docs.archived.metal-stack.io/v0.18/:splat
/v0.19/* https://docs.archived.metal-stack.io/v0.19/:splat
/v0.20/* https://docs.archived.metal-stack.io/v0.20/:splat

# mixed archived and current versions
/v0.21.0/* https://docs.archived.metal-stack.io/v0.21.0/:splat
/v0.21.0/* https://docs.archived.metal-stack.io/v0.21.0/:splat
/v0.21.0/* https://docs.archived.metal-stack.io/v0.21.0/:splat
/v0.21.0/* https://docs.archived.metal-stack.io/v0.21.0/:splat
/v0.21/* /docs/v0.21.8/:splat

# archived patch releases
/v0.1.:patch/* https://docs.archived.metal-stack.io/v0.1.:patch/:splat
/v0.2.:patch/* https://docs.archived.metal-stack.io/v0.2.:patch/:splat
/v0.3.:patch/* https://docs.archived.metal-stack.io/v0.3.:patch/:splat
/v0.4.:patch/* https://docs.archived.metal-stack.io/v0.4.:patch/:splat
/v0.5.:patch/* https://docs.archived.metal-stack.io/v0.5.:patch/:splat
/v0.6.:patch/* https://docs.archived.metal-stack.io/v0.6.:patch/:splat
/v0.7.:patch/* https://docs.archived.metal-stack.io/v0.7.:patch/:splat
/v0.8.:patch/* https://docs.archived.metal-stack.io/v0.8.:patch/:splat
/v0.9.:patch/* https://docs.archived.metal-stack.io/v0.9.:patch/:splat
/v0.10.:patch/* https://docs.archived.metal-stack.io/v0.10.:patch/:splat
/v0.11.:patch/* https://docs.archived.metal-stack.io/v0.11.:patch/:splat
/v0.12.:patch/* https://docs.archived.metal-stack.io/v0.12.:patch/:splat
/v0.13.:patch/* https://docs.archived.metal-stack.io/v0.13.:patch/:splat
/v0.14.:patch/* https://docs.archived.metal-stack.io/v0.14.:patch/:splat
/v0.15.:patch/* https://docs.archived.metal-stack.io/v0.15.:patch/:splat
/v0.16.:patch/* https://docs.archived.metal-stack.io/v0.16.:patch/:splat
/v0.17.:patch/* https://docs.archived.metal-stack.io/v0.17.:patch/:splat
/v0.18.:patch/* https://docs.archived.metal-stack.io/v0.18.:patch/:splat
/v0.19.:patch/* https://docs.archived.metal-stack.io/v0.19.:patch/:splat
/v0.20.:patch/* https://docs.archived.metal-stack.io/v0.20.:patch/:splat
