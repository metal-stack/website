<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="586" height="532" viewBox="-0.5 -0.5 586 532"><path fill="#fff" stroke="#000" d="M45 0h130v60H45z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:128px;height:1px;padding-top:30px;margin-left:46px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Metal Control Plane</div></div></div></foreignObject><text x="110" y="34" font-family="Helvetica" font-size="12" text-anchor="middle">
                    Metal Control Plane
                </text></switch><path fill="#fff" stroke="#000" d="M45 210h130v320H45z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe center;width:128px;height:1px;padding-top:217px;margin-left:46px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">metal-stack<br/>Partition</div></div></div></foreignObject><text x="110" y="229" font-family="Helvetica" font-size="12" text-anchor="middle">
                    metal-stack...
                </text></switch><path fill="#fff" stroke="#000" d="M57.5 270h105v100h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe center;width:103px;height:1px;padding-top:277px;margin-left:59px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">firewall</div></div></div></foreignObject><text x="110" y="289" font-family="Helvetica" font-size="12" text-anchor="middle">
                    firewall
                </text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M110 400v-30" pointer-events="stroke"/><path fill="#fff" stroke="#000" d="M57.5 400h105v50h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:103px;height:1px;padding-top:425px;margin-left:59px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">machine</div></div></div></foreignObject><text x="110" y="429" font-family="Helvetica" font-size="12" text-anchor="middle">
                    machine
                </text></switch><path fill="#fff" stroke="#000" d="M65 300h90v20H65z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:310px;margin-left:66px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">ssh</div></div></div></foreignObject><text x="110" y="314" font-family="Helvetica" font-size="12" text-anchor="middle">
                    ssh
                </text></switch><path fill="#fff" stroke="#000" d="M57.5 460h105v50h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:103px;height:1px;padding-top:485px;margin-left:59px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">bmc-proxy</div></div></div></foreignObject><text x="110" y="489" font-family="Helvetica" font-size="12" text-anchor="middle">
                    bmc-proxy
                </text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M110 60v104h115v321h-56.13" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m163.62 485 7-3.5-1.75 3.5 1.75 3.5Z" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M30 140h180v170h-48.63" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m156.12 310 7-3.5-1.75 3.5 1.75 3.5Z" pointer-events="all"/><circle cx="15" cy="117.5" r="7.5" fill="#fff" stroke="#000" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M15 125v25m0-20H0m15 0h15m-15 20L0 170m15-20 15 20" pointer-events="all"/><path fill="#fff" stroke="#000" d="M350 0h125v70H350z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe center;width:123px;height:1px;padding-top:7px;margin-left:351px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Metal Control Plane</div></div></div></foreignObject><text x="413" y="19" font-family="Helvetica" font-size="12" text-anchor="middle">
                    Metal Control Plane
                </text></switch><path fill="#fff" stroke="#000" d="M345 210h130v320H345z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe center;width:128px;height:1px;padding-top:217px;margin-left:346px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">metal-stack<br/>Partition</div></div></div></foreignObject><text x="410" y="229" font-family="Helvetica" font-size="12" text-anchor="middle">
                    metal-stack...
                </text></switch><path fill="#fff" stroke="#000" d="M357.5 270h105v100h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe center;width:103px;height:1px;padding-top:277px;margin-left:359px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">firewall</div></div></div></foreignObject><text x="410" y="289" font-family="Helvetica" font-size="12" text-anchor="middle">
                    firewall
                </text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M410 400v-30" pointer-events="stroke"/><path fill="#fff" stroke="#000" d="M357.5 400h105v50h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:103px;height:1px;padding-top:425px;margin-left:359px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">machine</div></div></div></foreignObject><text x="410" y="429" font-family="Helvetica" font-size="12" text-anchor="middle">
                    machine
                </text></switch><path fill="#fff" stroke="#000" d="M365 300h90v20h-90z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:310px;margin-left:366px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">ssh</div></div></div></foreignObject><text x="410" y="314" font-family="Helvetica" font-size="12" text-anchor="middle">
                    ssh
                </text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M357.5 485H325V200h66.92l-.04-133.63" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m391.88 61.12 3.5 7-3.5-1.75-3.5 1.75Z" pointer-events="all"/><path fill="#fff" stroke="#000" d="M357.5 460h105v50h-105z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:103px;height:1px;padding-top:485px;margin-left:359px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">bmc-proxy</div></div></div></foreignObject><text x="410" y="489" font-family="Helvetica" font-size="12" text-anchor="middle">
                    bmc-proxy
                </text></switch><path fill="#fff" stroke="#000" d="M367.5 30H465v30h-97.5z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:96px;height:1px;padding-top:45px;margin-left:369px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">headscale</div></div></div></foreignObject><text x="416" y="49" font-family="Helvetica" font-size="12" text-anchor="middle">
                    headscale
                </text></switch><circle cx="540" cy="97.5" r="7.5" fill="#fff" stroke="#000" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M540 105v25m0-20h-15m15 0h15m-15 20-15 20m15-20 15 20" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M455 350h60V200h-98.67l-.08-133.63" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m416.25 61.12 3.5 7-3.5-1.75-3.5 1.75Z" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M410 340v-13.63" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m410 321.12 3.5 7-3.5-1.75-3.5 1.75Z" pointer-events="all"/><path fill="#fff" stroke="#000" d="M365 340h90v20h-90z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:350px;margin-left:366px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">tailscaled</div></div></div></foreignObject><text x="410" y="354" font-family="Helvetica" font-size="12" text-anchor="middle">
                    tailscaled
                </text></switch><path fill="none" stroke="#000" stroke-miterlimit="10" d="M495 160h-54.42l.04-93.63" pointer-events="stroke"/><path stroke="#000" stroke-miterlimit="10" d="m440.62 61.12 3.5 7-3.5-1.75-3.5 1.75Z" pointer-events="all"/><path fill="#fff" stroke="#000" d="M495 150h90v20h-90z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:160px;margin-left:496px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">tailscaled</div></div></div></foreignObject><text x="540" y="164" font-family="Helvetica" font-size="12" text-anchor="middle">
                    tailscaled
                </text></switch><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M375 120c-24 0-30 20-10.8 24-19.2 8.8 2.4 28 18 20 10.8 16 46.8 16 58.8 0 24 0 24-16 9-24 15-16-9-32-30-24-15-12-39-12-45 4Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:118px;height:1px;padding-top:140px;margin-left:346px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Internet</div></div></div></foreignObject><text x="405" y="144" font-family="Helvetica" font-size="12" text-anchor="middle">
                    Internet
                </text></switch><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M75 120c-24 0-30 20-10.8 24-19.2 8.8 2.4 28 18 20 10.8 16 46.8 16 58.8 0 24 0 24-16 9-24 15-16-9-32-30-24-15-12-39-12-45 4Z" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:118px;height:1px;padding-top:140px;margin-left:46px"><div data-drawio-colors="color: rgb(0, 0, 0);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Internet</div></div></div></foreignObject><text x="105" y="144" font-family="Helvetica" font-size="12" text-anchor="middle">
                    Internet
                </text></switch><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank" transform="translate(0 -5)">
            <text x="50%" y="100%" font-size="10" text-anchor="middle">
                Viewer does not support full SVG 1.1
            </text>
        </a></switch></svg>