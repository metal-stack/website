---
slug: /release-notes/v0.21.0
title: v0.21.0
sidebar_position: 9
---
# metal-stack v0.21.0
See original release note at [https://github.com/metal-stack/releases/releases/tag/v0.21.0](https://github.com/metal-stack/releases/releases/tag/v0.21.0)
## General
* [Gardener v1.109](https://github.com/gardener/gardener/releases/tag/v1.109.0)
## Breaking Changes
* A change in the semver library that is used by metal-stack and in the Gardener project forces us to rename the identifiers that we typically use for OS images like Ubuntu 24.04. The library now requires stricter semantic versions, not allow leading zeroes in version segments. 
  
  In case you use for example `ubuntu-24.04.20250228` as an ID for an `image` in the metal-api, this needs to become `ubuntu-24.4.20250228`. 
  
  In order to introduce the new identifier-format, before updating to this release of metal-stack, an image has to be created following the new version format. This image then co-exists with the old image format. After this, all machines referencing the old image must be reprovisioned with the new image ID format.
  
  After all the references were migrated to the new image format, the old versions must be removed from the metal-api before upgrading to this release. Please adapt your deployments accordingly.
  
  Unfortunately, there is no better way to migrate this ID. Another option was to fork the Gardener project, which we did not want to do. If you encounter bigger issues with this step, please contact us in our Slack channel. (metal-stack/mini-lab#229)
## Component Releases
### csi-driver-lvm v0.6.1
* update to go-1.24 and alpine-3.21 (metal-stack/csi-driver-lvm#114) @majst01
### helm-charts v0.4.21
* Postgreslet update spilo image (metal-stack/helm-charts#116) @eberlep
### masterdata-api v0.11.7
* Update to go-1.24, simplify error handling in startup code (metal-stack/masterdata-api#110) @majst01
* Fix missing workdir when switching to distroless image. (metal-stack/masterdata-api#112) @Gerrit91
### metal-api v0.40.5
* Update semver parser with breaking change regarding image versions (metal-stack/metal-api#612) @majst01
* If deleting a machine from database which is crashed, this hint wouldâ€¦ (metal-stack/metal-api#611) @majst01
### metal-image-cache-sync v0.1.8
* Go 1.24 (metal-stack/metal-image-cache-sync#18) @majst01
### go-ipam v1.14.10
* Update dependencies, try benchmark history (metal-stack/go-ipam#174) @majst01
### metal-roles v0.15.7
* Fix default for `ztp_provisioning_script` (metal-stack/metal-roles#394) @iljarotar
* use different frr debian repo (metal-stack/metal-roles#393) @iljarotar
* stop mirroring from eu.gcr.io (metal-stack/metal-roles#392) @mwennrich
* Remove deprecated HVPA feature gates. (metal-stack/metal-roles#395) @Gerrit91
* Add csi livenessprobe sidecar (metal-stack/metal-roles#396) @majst01
### metal-ansible-modules v0.2.10
* Support firewall network allocation mode. (metal-stack/metal-ansible-modules#21) @Gerrit91
* Optional fields for firewall rules. (metal-stack/metal-ansible-modules#20) @Gerrit91
### gardener-extension-csi-driver-lvm v0.1.3
* Update csi sidecars (metal-stack/gardener-extension-csi-driver-lvm#11) @majst01
# Merged Pull Requests
This is a list of pull requests that were merged since the last release. The list does not contain pull requests from release-vector-repositories.

The fact that these pull requests were merged does not necessarily imply that they have already become part of this metal-stack release.

* Bump releases to version v0.20.1 (metal-stack/docs#252) @metal-robot[bot]
* Bump releases to version v0.20.2 (metal-stack/docs#254) @metal-robot[bot]
* Add database migration with some fixes and small refactoring on datastore (metal-stack/metal-apiserver#6) @Gerrit91
* try machine allocation with redis streams (metal-stack/metal-apiserver#7) @majst01
* Fix ip list (metal-stack/metal-apiserver#8) @majst01
* Move service initialization into services (metal-stack/metal-apiserver#9) @majst01
* Unify and simplify service tests (metal-stack/metal-apiserver#10) @majst01
* Update debian kernel (metal-stack/metal-images#288) @majst01
* Bump metal-api to version v0.40.5 (metal-stack/metal-go#206) @metal-robot[bot]
* Bump metal-api to version v0.40.5 (metal-stack/metal-python#150) @metal-robot[bot]
* Toolkit must be enabled on newer images (metal-stack/docs#256) @majst01
* Update frr for debian to 10.2.2 (metal-stack/metal-images#289) @majst01
* Next release (metal-stack/releases#221) @metal-robot[bot]